<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FFXIV 藏寶圖查詢器 (繁中版)</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="https://xivapi.com/i/060000/060354_hr1.png" type="image/png">
</head>
<body>
    <div class="container">
        <header>
            <h1>FFXIV 藏寶圖查詢器</h1>
            <p class="subtitle">繁體中文版 - 選擇藏寶圖等級開始</p>
        </header>

        <!-- 步驟 1: 選擇藏寶圖等級 -->
        <section class="step-section" id="step-grade">
            <h2 class="step-title">選擇藏寶圖等級</h2>
            <div class="grade-grid" id="grade-grid">
                <!-- 等級按鈕由 JS 生成 -->
            </div>
        </section>

        <!-- 步驟 2: 選擇地圖 -->
        <section class="step-section hidden" id="step-map">
            <div class="step-header">
                <button class="btn-back" id="back-to-grade">← 返回等級選擇</button>
                <h2 class="step-title">選擇地圖 - <span id="selected-grade-name"></span></h2>
            </div>
            <div class="map-grid" id="map-grid">
                <!-- 地圖按鈕由 JS 生成 -->
            </div>
        </section>

        <!-- 步驟 3: 顯示謎題和位置 -->
        <section class="step-section hidden" id="step-treasure">
            <div class="step-header">
                <button class="btn-back" id="back-to-map">← 返回地圖選擇</button>
                <h2 class="step-title"><span id="selected-map-name"></span></h2>
            </div>

            <div class="treasure-view">
                <!-- 左側：大地圖 -->
                <div class="main-map-container">
                    <div class="map-wrapper">
                        <img id="main-map-image" class="main-map-image" alt="地圖">
                        <div id="map-markers" class="map-markers"></div>
                        <div id="selected-marker" class="selected-marker hidden">
                            <img src="https://xivapi.com/i/060000/060354_hr1.png" alt="選中標記">
                        </div>
                    </div>
                </div>

                <!-- 右側：謎題圖片列表 -->
                <div class="puzzle-panel">
                    <h3>所有藏寶點 (<span id="treasure-count">0</span>)</h3>
                    <div class="puzzle-grid" id="puzzle-grid">
                        <!-- 謎題圖片由 JS 生成 -->
                    </div>
                </div>
            </div>

            <!-- 選中詳情 -->
            <div class="detail-panel hidden" id="detail-panel">
                <h3>藏寶點詳情</h3>
                <div class="detail-content">
                    <div class="detail-map">
                        <img id="detail-map-image" alt="詳情地圖">
                        <div id="detail-marker" class="detail-marker">
                            <img src="https://xivapi.com/i/060000/060354_hr1.png" alt="標記">
                        </div>
                    </div>
                    <div class="detail-info">
                        <p><strong>座標：</strong><span id="detail-coords"></span></p>
                        <p><strong>地圖：</strong><span id="detail-map-name"></span></p>
                        <p><strong>藏寶圖：</strong><span id="detail-item"></span></p>
                        <p><strong>隊伍類型：</strong><span id="detail-party"></span></p>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p>資料來源：<a href="https://ffxivteamcraft.com" target="_blank">FFXIV Teamcraft</a></p>
            <p>繁中翻譯：<a href="https://github.com/miaki3457/ffxiv-datamining-tc" target="_blank">ffxiv-datamining-tc</a></p>
            <p><a href="https://github.com/cycleapple/xiv-tc-treasure-finder" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
